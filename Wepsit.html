<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>KAALIX Splash</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  background:#000;
  height:100vh;
  overflow:hidden;
  font-family:Arial;
}

/* SPLASH */
#loader{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:100;
}

#hexSplash{
  width:120px;
  height:120px;
  background:linear-gradient(135deg,#00c6ff,#00f2a9);
  clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);
  animation:splash 3s ease-in-out forwards;
}

@keyframes splash{
  0%{transform:scale(.3);opacity:0}
  20%{transform:scale(1);opacity:1}
  60%{transform:scale(12)}
  85%{transform:scale(.15)}
  100%{transform:scale(0);opacity:0}
}

/* APP */
#app{display:none;height:100vh}
iframe{width:100%;height:100%;border:none}

/* UPDATE GATE */
#updateGate{
  position:fixed;
  inset:0;
  background:#000;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  z-index:200;
  color:#fff;
}

#updateGate button{
  margin-top:20px;
  padding:14px 28px;
  background:#00ffcc;
  border:none;
  border-radius:10px;
  font-size:16px;
}
</style>
</head>

<body>

<!-- SPLASH -->
<div id="loader">
  <div id="hexSplash"></div>
</div>

<!-- APP -->
<div id="app">
  <iframe id="frame"></iframe>
</div>

<!-- UPDATE GATE -->
<div id="updateGate">
  <h2 id="upTitle"></h2>
  <p id="upMsg"></p>
  <button id="upBtn" onclick="goUpdate()"></button>
</div>

<script>
const JSON_URL="https://raw.githubusercontent.com/sknejamuddin694-sketch/KAALIX/refs/heads/main/Loding.json";

let APP_LINK="", UPDATE_LINK="", FORCE=false;

fetch(JSON_URL).then(r=>r.json()).then(d=>{
  APP_LINK=d.main_page.open_link;
  FORCE=d.update_page.force;
  UPDATE_LINK=d.update_page.redirect_link;

  document.getElementById("upTitle").innerText=d.update_page.title;
  document.getElementById("upMsg").innerText=d.update_page.message;
  document.getElementById("upBtn").innerText=d.update_page.button_text;
});

setTimeout(()=>{
  document.getElementById("loader").style.display="none";

  if(FORCE){
    // ðŸ”’ HARD BLOCK
    document.getElementById("updateGate").style.display="flex";
  }else{
    // âœ… OPEN APP
    document.getElementById("app").style.display="block";
    document.getElementById("frame").src=APP_LINK;
  }
},3000);

function goUpdate(){
  location.href = UPDATE_LINK;
}
</script>

</body>
</html>
